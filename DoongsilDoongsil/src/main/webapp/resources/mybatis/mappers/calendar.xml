<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mainPageMapper">
	<insert id="addEvent" parameterType="calendarDTO">
		INSERT INTO CALENDAR VALUES(
		     CALENDAR_SEQ.NEXTVAL
			,#{cal_title}
			,#{cal_start}
			,#{cal_end}
			,DEFAULT
		)
	</insert>
	
	<select id="selectNotice" resultType="doongsil.com.web.notice.model.NoticeVO">
		SELECT NOT_TITLE, NOT_ID FROM 
		(SELECT * FROM NOTICE ORDER BY NOT_ID DESC) 
		 WHERE ROWNUM &lt;= 2
	</select>
	
	<select id="selectHomework" resultType="doongsil.com.web.homework.model.T_HomeworkVO">
		SELECT THO_ID, THO_TITLE FROM 
		(SELECT * FROM T_HOMEWORK ORDER BY THO_ID DESC) 
		 WHERE ROWNUM &lt;= 2
	</select>
	
	<select id="selectCalendar" resultType="calendarDTO">
		SELECT * FROM CALENDAR
	</select>
	
	<delete id="deleteEvent" parameterType="calendarDTO">
		DELETE CALENDAR
		 WHERE CAL_TITLE = #{cal_title}
		   AND CAL_START = TO_DATE('#{cal_start}', 'yyyy-MM-dd')
		   AND CAL_END = TO_DATE('#{cal_end}', 'yyyy-MM-dd')
	</delete>
</mapper>